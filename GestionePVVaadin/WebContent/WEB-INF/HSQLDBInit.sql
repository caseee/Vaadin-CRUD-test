# File contentente le query di inizializzazione database
CREATE TABLE SITES (ID IDENTITY, NAME VARCHAR(255) NOT NULL, INFORMATION VARCHAR(255));

CREATE TABLE USERS (ID IDENTITY, USERNAME VARCHAR(255) UNIQUE NOT NULL, PASS VARCHAR(255) NOT NULL, LEVEL INT NOT NULL, SITE INTEGER REFERENCES SITES); 

CREATE TABLE COLORS (ID IDENTITY, NAME VARCHAR(255) NOT NULL);

CREATE TABLE SEASONS (ID IDENTITY, NAME VARCHAR(255) NOT NULL);

CREATE TABLE SIZES(ID IDENTITY, NAME VARCHAR(255) NOT NULL );

CREATE TABLE CATEGORIES (ID IDENTITY, FATHER_ID INTEGER REFERENCES CATEGORIES, CATEGORY VARCHAR(256) );

CREATE TABLE ARTICLES (ID IDENTITY, CATEGORY INTEGER REFERENCES CATEGORIES, NAME VARCHAR(255) NOT NULL, DESCRIPTION VARCHAR(255), 
	COLOR INTEGER REFERENCES COLORS, SEASON INTEGER REFERENCES SEASONS, SIZE INTEGER REFERENCES SIZES, PRICE INT);

CREATE TABLE REGISTRY (ID IDENTITY, NAME VARCHAR(255), STREET VARCHAR(255), CITY VARCHAR(255), EMAIL VARCHAR(255), PHONE VARCHAR(255)  );	
	
CREATE TABLE MOVIMENTATION_TYPE (ID IDENTITY, DESCRIPTION VARCHAR(255), QUANTITY_EFFECT INTEGER );	
	
CREATE TABLE MOVIMENTATION (ID IDENTITY, MOVIMENTATION VARCHAR(255), SITE INTEGER REFERENCES SITES);

CREATE TABLE MOVIMENTATION_SPEC(ID IDENTITY, ID_HEAD INTEGER REFERENCES MOVIMENTATION, ID_ART INTEGER REFERENCES ARTICLES, QUANTITY INTEGER, PRICE DECIMAL(10,2));

INSERT INTO SEASONS VALUES (NULL, 'N/A');
INSERT INTO COLORS VALUES (NULL, 'N/A');
INSERT INTO SIZES VALUES (NULL, 'N/A');
INSERT INTO SITES VALUES (NULL, 'CENTRAL','DEFAULT SITE')
INSERT INTO USERS VALUES (NULL,'admin','70b3f062173dafebc53c2ef9bf20e17d9b0e63d2',99,IDENTITY());
INSERT INTO CATEGORIES VALUES (NULL,NULL,'MAIN');
INSERT INTO ARTICLES VALUES (NULL, 0, 'ART1','TEST1', 0, 0, 0, 10);

             